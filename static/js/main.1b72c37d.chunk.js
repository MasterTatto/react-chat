(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{76:function(e,t,n){},77:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return M})),n.d(t,"auth",(function(){return T})),n.d(t,"firestore",(function(){return E}));var a=n(0),c=n.n(a),r=n(12),i=n.n(r),o=(n(76),n(26)),s=(n.p,n(77),n(29)),u=n.n(s),j=n(35),l=n(115),d=n(118),h=n(119),b=n(124),p="/login",x="/chat",O=n(41),f=n(30),g=n(24),m=n(5);var v=function(){var e=Object(a.useContext)(M).auth,t=Object(f.a)(e),n=Object(o.a)(t,1)[0];console.log(n);var c=function(){var t=Object(j.a)(u.a.mark((function t(){var n,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new g.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:a=t.sent,c=a.user,console.log(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.jsx)(l.a,{position:"static",children:Object(m.jsx)(d.a,{variant:"dense",children:Object(m.jsx)(h.a,{container:!0,justify:"flex-end",children:n?Object(m.jsx)(b.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"Exit"}):Object(m.jsx)(O.b,{to:p,children:Object(m.jsx)(b.a,{onClick:c,variant:"outlined",children:"Login"})})})})})},y=n(14),w=n(120),C=n(125),I=n(121);var k=function(){return Object(m.jsx)(w.a,{children:Object(m.jsx)(h.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(m.jsx)(h.a,{container:!0,alignItems:"center",direction:"column",children:Object(m.jsx)("div",{className:"lds-hourglass",children:"Please wait"})})})})},N=n(62);var A=function(){var e=Object(a.useContext)(M),t=e.auth,n=e.firestore,c=Object(f.a)(t),r=Object(o.a)(c,1)[0],i=Object(a.useState)(""),s=Object(o.a)(i,2),l=s[0],d=s[1],p=Object(N.a)(n.collection("messages").orderBy("createdAt")),x=Object(o.a)(p,2),O=x[0],v=x[1],y=l.trim(),A=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:l,createdAt:g.a.firestore.FieldValue.serverTimestamp()}),d("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(console.log(O),v)return Object(m.jsx)(k,{});function P(e){var t=new Date(1e3*e.createdAt),n=t.getHours(),a=t.getMinutes();return Object(m.jsx)("p",{children:n+":"+a})}return Object(m.jsx)("div",{children:Object(m.jsx)(w.a,{children:Object(m.jsxs)(h.a,{container:!0,justyfy:"center",style:{height:window.innerHeight-50,marginTop:"5px"},children:[Object(m.jsx)("div",{style:{width:"80%",height:"70vh",border:"1px solid gray",overflowY:"auto"},children:O.map((function(e){return Object(m.jsxs)("div",{className:"container",style:{margin:"10px",marginLeft:r.uid===e.uid?"auto":"40px",width:"fit-content",padding:"5px"},children:[Object(m.jsx)("div",{className:"boxImg",children:Object(m.jsx)(C.a,{src:e.photoURL,alt:"avatar",className:"img"})}),Object(m.jsxs)("div",{className:"message-orange",children:[Object(m.jsx)("p",{className:"message-content",children:e.text}),Object(m.jsx)("div",{className:"message-timestamp-right",children:P(e)})]})]})}))}),Object(m.jsxs)(h.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(m.jsx)(I.a,{rowMax:2,variant:"outlined",fullWidth:!0,value:l,onChange:function(e){return d(e.currentTarget.value)},onKeyPress:function(e){"Enter"!==e.key&&!0!==y||A()}}),Object(m.jsx)(b.a,{onClick:A,variant:"outlined",children:"Send"})]})]})})})},P=n(123);var L=[{path:p,Component:function(){var e=Object(a.useContext)(M).auth,t=function(){var t=Object(j.a)(u.a.mark((function t(){var n,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new g.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:a=t.sent,c=a.user,console.log(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.jsx)(w.a,{children:Object(m.jsx)(h.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",color:"red",fontSize:"30px",children:Object(m.jsx)(h.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(m.jsx)(P.a,{p:5,children:Object(m.jsx)(b.a,{onClick:t,variant:"outline",children:"Sing with Google"})})})})})}}],S=[{path:x,Component:A}];var F=function(){var e=Object(a.useContext)(M).auth,t=Object(f.a)(e),n=Object(o.a)(t,1)[0];return console.log(n),n?Object(m.jsxs)(y.d,{children:[S.map((function(e){var t=e.path,n=e.Component;return Object(m.jsx)(y.b,{path:t,component:n},t)})),Object(m.jsx)(y.a,{to:x})]}):Object(m.jsxs)(y.d,{children:[L.map((function(e){var t=e.path,n=e.Component;return Object(m.jsx)(y.b,{path:t,component:n},t)})),Object(m.jsx)(y.a,{to:p})]})};var B=function(){var e=Object(a.useContext)(M).auth,t=Object(f.a)(e),n=Object(o.a)(t,3),c=(n[0],n[1]);return n[2],c?Object(m.jsx)(k,{}):Object(m.jsxs)(O.a,{children:[Object(m.jsx)(v,{}),Object(m.jsx)(F,{})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};n(85),n(89);g.a.initializeApp({apiKey:"AIzaSyBUZbyQAgAjhtF41ncL9542CVR24oyNqag",authDomain:"chat-app-ba3f0.firebaseapp.com",projectId:"chat-app-ba3f0",storageBucket:"chat-app-ba3f0.appspot.com",messagingSenderId:"404954101638",appId:"1:404954101638:web:e03e29a17ce964a8f09e07",measurementId:"G-EZ15VKMKMG"});var M=Object(a.createContext)(null),T=g.a.auth(),E=g.a.firestore();i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(M.Provider,{value:{firebase:g.a,auth:T,firestore:E},children:Object(m.jsx)(B,{})})}),document.getElementById("root")),G()}},[[88,1,2]]]);
//# sourceMappingURL=main.1b72c37d.chunk.js.map